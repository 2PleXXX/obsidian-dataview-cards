---
cssclasses:
  - hide-properties
obsidianUIMode: preview
---
# 🧭 [[01 Путеводитель|Путеводитель]] • [[06 🧮 СОРТИРОВКА|← Назад]] • [[08 🖼 СОЗДАНИЕ ПОЛЯ|Далее →]] • [[00 HUB|Домашняя страница]] 🏠

---
# БЛОК 07 🔐 ФИЛЬТРАЦИЯ

> 💡 **Пример конфигурации блока:**

```js
filtering: {
  clearTagsWarning: true,
  mode: "byTypes",
  allowedTypes: ["text", "badge", "date", "pageLink", "number", "rating", "progressBar"],
  allowedFields: ["Title", "Badge", "DemoDate", "Rating"],
},
```

	Этот блок управляет поведением модального окна фильтрации, которое открывается при нажатии на кнопку "Фильтр" расположенное рядом с поисковым полем

---

## ⚠️ `clearTagsWarning`

Отвечает за то, будет ли появляться окно с подтверждением перед тем, как удалить все теги у карточки.

**Варианты значения:**

- `true` — показать предупреждение (по умолчанию)
    
- `false` — сразу удалить теги без предупреждения
    

Если вы боитесь случайно удалить все теги, оставьте `true`.

---

## 🔧 `mode`

Определяет, **что отображается в выпадающем списке выбора полей фильтрации**:

- `"byTypes"` — отображаются поля по их типам (а не названия из YAML);
    
- `"byFields"` — отображаются конкретные поля перечисленные в `allowedFields`.
    

⚠️ Все доступные типы указаны здесь ---> [[02 Типы полей]]

---
## ✅ `allowedTypes`

Массив типов полей, доступных для фильтрации (если `mode: "byTypes"`). Например:

```js
["text", "badge", "date", "pageLink", "number", "rating", "progressBar"]
```

⚠️ Все доступные типы указаны здесь ---> [[02 Типы полей]] 

---
## 📌 `allowedFields`

Массив конкретных полей, которые создаются в [[08 🖼 СОЗДАНИЕ ПОЛЯ]], доступных для фильтрации (если `mode: "byFields"`). Например:

```js
["Title", "Badge", "DemoDate", "Rating"]
```

Если вы хотите, например фильтровать по названию, но у вас нет соответствующего поля в YAML, а только название файла, то это не проблема. Вы можете создать виртуальное поле. Подробнее здесь ---> [[02 Типы полей]]  БЛОК: 🔗 Ссылка на заметку (`pageLink`)

---

## ⚙️ `defaultMatchMode`

Этот параметр определяет, **какая логика объединения фильтров будет использоваться по умолчанию** при первом открытии или при полном сбросе модального окна фильтрации.

Варианты значений:

- `"any"` — карточка будет отображена, если выполнено **хотя бы одно** из условий;
    
- `"all"` — карточка будет отображена, только если выполнены **все** условия одновременно.
    

### Зачем это нужно?

Когда пользователь открывает фильтр впервые или нажимает «Сбросить», скрипт должен выбрать, **какую логику применять** — ИЛИ (`any`) или И (`all`). Именно это и задаётся через `defaultMatchMode`.

Если Вы хотите, чтобы по умолчанию карточки показывались при **совпадении хотя бы с одним условием**, используйте `"any"`.  
Если же требуется строгое соответствие всем фильтрам сразу — укажите `"all"`.

## 🌓 `defaultFilterMode`

Определяет, **в каком режиме фильтрации будут работать значения** (теги, поля и т.п.) при открытии или сбросе модального окна фильтра.

Варианты значений:

- `"whitelist"` — отображать карточки, которые **соответствуют** выбранным значениям (например, с определённым тегом);
    
- `"blacklist"` — скрывать карточки, которые **содержат** выбранные значения.
    

### Зачем это нужно?

Когда пользователь добавляет фильтры, они могут работать либо как **включающие**, либо как **исключающие**.  
`defaultFilterMode` определяет, **какой из этих режимов будет выбран по умолчанию** — особенно важно это после нажатия кнопки «Сбросить» в фильтре.

Если Вы хотите, чтобы фильтры по умолчанию **отбирали нужные карточки** — используйте `"whitelist"`.  
Если же требуется **исключать карточки с определёнными значениями**, укажите `"blacklist"`.


Оба параметра необходимы для того, чтобы **после очистки фильтров** (или при первом открытии), скрипт корректно восстановил **исходное поведение**, которое Вы задали в конфигурации. Это базовые настройки, от которых пользовательское взаимодействие начинает свой путь.

Более подробно о работе фильтра читайте здесь ---> [[01 Визуальный обзор функционала]]

---

> 🔠 **Фильтрация чувствительна к регистру!** Например, `Tag` и `tag` будут восприниматься как разные значения.

---
# 🧭 [[01 Путеводитель|Путеводитель]] • [[06 🧮 СОРТИРОВКА|← Назад]] • [[08 🖼 СОЗДАНИЕ ПОЛЯ|Далее →]] • [[00 HUB|Домашняя страница]] 🏠

